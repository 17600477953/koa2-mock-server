extends layout

block append head
  link(rel="stylesheet", href="/stylesheets/wangImgEnlarge.css")

block content
  - var mockapi= location + '/mockapi'
  -
    var getMap = [
      {
        title:'/people',
        items:[
          {
            explain:'Mosk生成的5000条人物数据',
            example:'/people'
          },
          {
            explain:'获得指定id的人物数据',
            example:'/people/1'
          },
          {
            explain:'获得指定id的人物数据',
            example:'/people?id=1'
          }
        ]  
      },
      {
        title:'/image',
        items:[
          {
            explain:'Mosk生成的5000张多尺寸图片URL',
            example:'/image'
          },
          {
            explain:'获得指定id的图片URL',
            example:'/image/1'
          },
          {
            explain:'获得指定id的图片URL',
            example:'/image?id=1'
          }
        ]
      },
      {
        title:'/basicData',
        items:[
          {
            explain:'Mosk生成的500条各种基础类型数据',
            example:'/basicData'
          },
          {
            explain:'获得指定id的数据',
            example:'/basicData/1'
          },
          {
            explain:'获得指定id的数据',
            example:'/basicData?id=1'
          },
          {
            explain:'获得character为指定值的所有数据',
            example:'/basicData?character=A'
          }
        ]
      },
      {
        title:'/complexData',
        items:[
          {
            explain:'Mosk生成的复杂数据',
            example:'/complexData'
          }
        ]
      },
    ]
  -
    var postMap = [
      {
        title:'/customImage',
        explain:'根据发送的参数，返回指定的图片URL',
        parameter:[
          {
            name:'str',
            description:'图片的上的文字',
          },
          {
            name:'height',
            description:'图片的高',
          },
          {
            name:'width',
            description:'图片的宽',
          },
          {
            name:'bgc',
            description:'图片的背景颜色',
          },
          {
            name:'color',
            description:'图片的文字颜色',
          }
        ]
      }
    ]
  div.head
    h1.title Mock API
      a(href="https://github.com/pma934/koa2-mock-server" target="_blank")
        img(src="/images/github.png" style="width:90px")
    p.subtitle 一个基于Koa2搭建的一个虚拟数据API，虽然Mockjs能直接拦截Ajax，但是那样做的话，数据并不会经过Network，感觉不能很好的模拟GET&POST请求。
  hr
  div.content
    h1.title GET
    each get in getMap
      p.subtitle
        b GET&nbsp;&nbsp;
        =get.title
        table.item
          each item in get.items       
            tr.getMap
              td
                a(href='/mockapi'+item.example)= item.example  
              td
                span= item.explain
  hr
  div.content
    h1.title POST
    each post in postMap
      p.subtitle
        b POST&nbsp;&nbsp;
        =post.title
        p.subtitle= post.explain
        p.subtitle 
          b 参数
        table#tab02.subtitle
          tr
            th Name
            th Type
            th Description
          each item in post.parameter
            tr
              td= item.name
              td string
              td= item.description
    div.subtitle  
      b 示例 
      img(src="https://s2.ax1x.com/2019/05/28/Vmz8US.png" class="amplification" style="max-width: 40rem;") 
      img(src="https://s2.ax1x.com/2019/05/28/VmzG4g.png" class="amplification" style="max-width: 40rem;")      
  
  script(src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js")
  script(src="/javascript/wangImgEnlarge.js")